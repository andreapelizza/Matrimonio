<script>
const audio = document.getElementById('audio');
const btn = document.getElementById('btn');

audio.volume = 0.6;

// Recupera stato salvato
let playing = localStorage.getItem('playing') === 'true';
let savedTime = localStorage.getItem('time');

if (savedTime) {
  audio.currentTime = parseFloat(savedTime);
}

if (playing) {
  audio.play();
  btn.innerHTML = "â¸ Pause";
}

// Click sul pulsante
btn.onclick = function () {
  if (!playing) {
    audio.play();
    btn.innerHTML = "â¸ Pause";
  } else {
    audio.pause();
    btn.innerHTML = "ðŸŽµ Play";
  }

  playing = !playing;
  localStorage.setItem('playing', playing);
};

// Salva continuamente il tempo
audio.addEventListener('timeupdate', () => {
  localStorage.setItem('time', audio.currentTime);
});
</script>
